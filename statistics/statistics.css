
@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&display=swap');

:root {
    --primary-color: #2c5e42;
    --primary-dark: #244d36;
    --accent-color: #6ac083;
    --bg-color: #f4f7f6;
    --sidebar-bg: #ffffff;
    --card-bg: #ffffff;
    --font-color: #333333;
    --font-color-light: #757575;
    --border-color: #e0e0e0;
    --shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
    --radius: 12px;
    --sidebar-width: 260px;
    --transition-speed: 0.3s;
}

/* --- Base Styles & Resets --- */
* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

html, body {
    height: 100%; /* htmlとbodyがビューポートの高さを占めるようにする */
    overflow: hidden; /* bodyのスクロールを禁止し、内部要素でスクロールを管理 */
}

body.statistics-page {
    font-family: 'Noto Sans JP', sans-serif;
    background-color: var(--bg-color);
    color: var(--font-color);
    display: flex; /* bodyをflexコンテナにする */
    flex-direction: column; /* 子要素を縦に並べる */
    height: 100%; /* bodyが親（html）の高さいっぱいに広がるようにする */
}

/* --- Dashboard Container (Main Layout) --- */
.dashboard-container {
    display: flex;
    flex: 1; /* 残りのスペースを埋めるように成長 */
    width: 100%; /* 親の幅を100%占める */
}

/* --- Sidebar (Mobile First) --- */
.sidebar {
    position: fixed;
    top: 0;
    left: 0;
    height: 100%;
    width: var(--sidebar-width);
    background-color: var(--sidebar-bg);
    border-right: 1px solid var(--border-color);
    display: flex;
    flex-direction: column;
    padding: 20px;
    transform: translateX(-100%); /* デフォルトで画面外に隠す */
    transition: transform var(--transition-speed) ease;
    z-index: 1001; /* オーバーレイよりも前面に */
}

.sidebar.active {
    transform: translateX(0); /* 表示する */
}

.sidebar-header { display: flex; align-items: center; gap: 12px; padding: 10px 0 30px 0; color: var(--primary-color); }
.sidebar-header i { font-size: 24px; }
.sidebar-header h3 { font-size: 20px; font-weight: 700; }
.sidebar-nav { flex-grow: 1; }
.nav-link { display: flex; align-items: center; gap: 15px; padding: 14px 18px; margin-bottom: 8px; border-radius: 8px; color: var(--font-color-light); text-decoration: none; font-weight: 500; font-size: 16px; transition: all 0.3s ease; }
.nav-link:hover { background-color: var(--bg-color); color: var(--primary-dark); }
.nav-link.active { background-color: var(--primary-color); color: #ffffff; box-shadow: 0 4px 10px rgba(44, 94, 66, 0.2); }
.nav-link i { font-size: 18px; width: 20px; text-align: center; }

/* --- Main Content (Mobile First) --- */
.main-content {
    flex: 1; /* 残りのスペースを埋めるように成長 */
    display: flex;
    flex-direction: column;
    width: 100%; /* モバイルでは全幅 */
    height: 100%; /* 親の高さに合わせる */
}

.main-header {
    display: flex;
    align-items: center;
    padding: 15px; /* モバイルでのパディング */
    background-color: var(--card-bg);
    border-bottom: 1px solid var(--border-color);
    flex-shrink: 0;
}

.menu-toggle-btn {
    display: block; /* モバイルでは表示 */
    background: none; border: none; font-size: 20px;
    color: var(--primary-dark); cursor: pointer; margin-right: 15px;
}

#main-title { font-size: 20px; /* モバイルでのフォントサイズ */ }
.header-actions { margin-left: auto; display: flex; align-items: center; gap: 15px; }
.search-box { display: none; /* モバイルでは非表示 */ }
.action-button { background: none; border: 1px solid var(--border-color); width: 40px; height: 40px; border-radius: 50%; color: var(--font-color-light); cursor: pointer; font-size: 16px; transition: all .3s ease; }
.action-button:hover { background-color: var(--bg-color); color: var(--primary-dark); }

.content-scroll-area {
    flex: 1; /* 残りのスペースを埋めるように成長 */
    overflow-y: auto; /* ここがコンテンツのスクロールを管理する */
    padding: 15px; /* モバイルでのパディング */
}

/* --- Overlay --- */
.overlay {
    display: none; /* デフォルトでは非表示 */
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    background-color: rgba(0, 0, 0, 0.4);
    z-index: 999;
    opacity: 0;
    transition: opacity var(--transition-speed) ease;
}
.overlay.active {
    display: block;
    opacity: 1;
}

/* --- Component Styles (Mobile First) --- */
.tab-content{display:none;animation:fadeIn .5s}.tab-content.active{display:block}@keyframes fadeIn{from{opacity:0}to{opacity:1}}.dashboard-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:25px;margin-bottom:30px}.metric-card{background-color:var(--card-bg);border-radius:var(--radius);padding:20px;box-shadow:var(--shadow);display:flex;align-items:center;gap:20px;transition:all .3s ease}.metric-card:hover{transform:translateY(-5px);box-shadow:0 8px 20px rgba(0,0,0,.08)}.card-icon{width:60px;height:60px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:24px}.card-info .card-title{font-size:14px;color:var(--font-color-light);margin-bottom:5px}.card-info .metric-value{font-size:28px;font-weight:700;color:var(--primary-dark)}.chart-and-list-container{display:grid;grid-template-columns:1fr; /* モバイルでは常に1カラム */ gap:25px}.main-chart-container,.top-customers-container{background-color:var(--card-bg);border-radius:var(--radius);padding:25px;box-shadow:var(--shadow)}.main-chart-container h4,.top-customers-container h4{font-size:18px;font-weight:700;margin-bottom:20px;color:var(--primary-dark)}#mainSalesChart{max-height:300px}.top-customers-list{list-style:none}.top-customers-list li{display:flex;justify-content:space-between;padding:12px 0;border-bottom:1px solid var(--border-color)}.top-customers-list li:last-child{border-bottom:none}.customer-name{font-weight:500}.customer-sales{font-weight:700;color:var(--primary-color)}.view-toggle{margin-bottom:20px}.view-btn{padding:10px 20px;border:1px solid var(--border-color);background-color:var(--card-bg);color:var(--font-color-light);cursor:pointer;font-size:14px;font-weight:500;transition:all .3s ease}.view-btn:first-child{border-radius:8px 0 0 8px}.view-btn:last-child{border-radius:0 8px 8px 0}.view-btn.active{background-color:var(--primary-color);color:#fff;border-color:var(--primary-color)}.table-view-container{background-color:var(--card-bg);border-radius:var(--radiu... [truncated]

/* --- Desktop Specific Styles (min-width: 769px) --- */
@media (min-width: 769px) {
    .sidebar {
        position: relative; /* デスクトップでは通常フローに戻す */
        transform: translateX(0); /* 表示状態にする */
    }

    .main-content {
        margin-left: var(--sidebar-width); /* サイドバーの幅だけ左にずらす */
    }

    .menu-toggle-btn {
        display: none; /* デスクトップでは非表示 */
    }

    .search-box {
        display: block; /* デスクトップでは表示 */
    }

    #main-title { font-size: 24px; }
    .content-scroll-area { padding: 30px; }
    .main-header { padding: 20px 30px; }
    .chart-and-list-container { grid-template-columns: 2fr 1fr; /* デスクトップでは2カラム */ }
}
